<h1 class="text-2xl font-bold mb-6">Admin Dashboard</h1>

<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
  <%# Users %>
  <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500 flex flex-col">
    <div class="text-sm text-gray-500">Users</div>
    <div class="text-2xl font-bold"><%= number_with_delimiter(@users_count) %></div>
    <div class="text-xs text-gray-400 mt-1">
      +<%= @users_24h_count %> in 24h / +<%= @users_7d_count %> in 7d
    </div>
    <div class="text-xs text-gray-400">
      active: <%= @active_users_24h %> in 24h / <%= @active_users_7d %> in 7d
    </div>
    <div class="flex-grow"></div>
    <%= link_to "more →", admin_users_path, class: "text-xs text-blue-600 hover:underline self-end mt-2" %>
  </div>

  <%# Channels %>
  <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500">
    <div class="text-sm text-gray-500">Channels</div>
    <div class="text-2xl font-bold"><%= number_with_delimiter(@channels_count) %></div>
    <div class="text-xs text-gray-400 mt-1">
      +<%= @channels_24h_count %> in 24h / +<%= @channels_7d_count %> in 7d
    </div>
    <div class="text-xs text-gray-400">
      <%= @stopped_channels_count %> stopped
    </div>
  </div>

  <%# Items %>
  <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500">
    <div class="text-sm text-gray-500">Items</div>
    <div class="text-2xl font-bold"><%= number_with_delimiter(@items_count) %></div>
    <div class="text-xs text-gray-400 mt-1">
      +<%= @items_24h_count %> in 24h / +<%= @items_7d_count %> in 7d
    </div>
  </div>

  <%# Pawprints %>
  <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500">
    <div class="text-sm text-gray-500">Pawprints</div>
    <div class="text-2xl font-bold"><%= number_with_delimiter(@pawprints_count) %></div>
    <div class="text-xs text-gray-400 mt-1">
      +<%= @pawprints_24h_count %> in 24h / +<%= @pawprints_7d_count %> in 7d
    </div>
  </div>

  <%# Subscriptions %>
  <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500">
    <div class="text-sm text-gray-500">Subscriptions</div>
    <div class="text-2xl font-bold"><%= number_with_delimiter(@subscriptions_count) %></div>
    <div class="text-xs text-gray-400 mt-1">
      +<%= @subscriptions_24h_count %> in 24h / +<%= @subscriptions_7d_count %> in 7d
    </div>
  </div>

  <%# Channel Groups %>
  <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500">
    <div class="text-sm text-gray-500">Channel Groups</div>
    <div class="text-2xl font-bold"><%= number_with_delimiter(@channel_groups_count) %></div>
    <div class="text-xs text-gray-400 mt-1">
      +<%= @channel_groups_24h_count %> in 24h / +<%= @channel_groups_7d_count %> in 7d
    </div>
  </div>

  <%# Join Requests %>
  <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500 flex flex-col">
    <div class="text-sm text-gray-500">Join Requests</div>
    <div class="text-2xl font-bold"><%= number_with_delimiter(@join_requests_count) %></div>
    <div class="text-xs text-gray-400 mt-1">
      +<%= @join_requests_24h_count %> in 24h / +<%= @join_requests_7d_count %> in 7d
    </div>
    <% if @pending_join_requests_count > 0 %>
      <div class="text-xs text-orange-600 font-medium">
        <%= @pending_join_requests_count %> pending
      </div>
    <% end %>
    <div class="flex-grow"></div>
    <%= link_to "more →", admin_join_requests_path, class: "text-xs text-blue-600 hover:underline self-end mt-2" %>
  </div>

  <%# Notification Emails %>
  <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500">
    <div class="text-sm text-gray-500">Notification Emails</div>
    <div class="text-2xl font-bold"><%= number_with_delimiter(@notification_emails_count) %></div>
    <div class="text-xs text-gray-400 mt-1">
      +<%= @notification_emails_24h_count %> in 24h / +<%= @notification_emails_7d_count %> in 7d
    </div>
  </div>

  <%# Notification Webhooks %>
  <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500">
    <div class="text-sm text-gray-500">Notification Webhooks</div>
    <div class="text-2xl font-bold"><%= number_with_delimiter(@notification_webhooks_count) %></div>
    <div class="text-xs text-gray-400 mt-1">
      +<%= @notification_webhooks_24h_count %> in 24h / +<%= @notification_webhooks_7d_count %> in 7d
    </div>
  </div>

  <%# Channel Group Webhooks %>
  <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500">
    <div class="text-sm text-gray-500">Channel Group Webhooks</div>
    <div class="text-2xl font-bold"><%= number_with_delimiter(@channel_group_webhooks_count) %></div>
    <div class="text-xs text-gray-400 mt-1">
      +<%= @channel_group_webhooks_24h_count %> in 24h / +<%= @channel_group_webhooks_7d_count %> in 7d
    </div>
  </div>

  <%# Jobs %>
  <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500 flex flex-col">
    <div class="text-sm text-gray-500">Jobs</div>
    <div class="text-2xl font-bold"><%= number_with_delimiter(@jobs_pending_count) %> <span class="text-sm font-normal text-gray-400">pending</span></div>
    <div class="text-xs text-gray-400 mt-1">
      +<%= @jobs_24h_count %> in 24h / +<%= @jobs_7d_count %> in 7d
    </div>
    <% if @jobs_failed_count > 0 %>
      <div class="text-xs text-red-600 font-medium">
        <%= @jobs_failed_count %> failed
      </div>
    <% end %>
    <div class="flex-grow"></div>
    <%= link_to "more →", admin_jobs_path, class: "text-xs text-blue-600 hover:underline self-end mt-2" %>
  </div>

  <%# Events (Ahoy) %>
  <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500 flex flex-col">
    <div class="text-sm text-gray-500">Events (Ahoy)</div>
    <div class="text-2xl font-bold"><%= number_with_delimiter(@events_count) %></div>
    <div class="text-xs text-gray-400 mt-1">
      +<%= @events_24h_count %> in 24h / +<%= @events_7d_count %> in 7d
    </div>
    <div class="flex-grow"></div>
    <%= link_to "more →", admin_events_path, class: "text-xs text-blue-600 hover:underline self-end mt-2" %>
  </div>

  <%# Visits (Ahoy) %>
  <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500 flex flex-col">
    <div class="text-sm text-gray-500">Visits (Ahoy)</div>
    <div class="text-2xl font-bold"><%= number_with_delimiter(@visits_count) %></div>
    <div class="text-xs text-gray-400 mt-1">
      +<%= @visits_24h_count %> in 24h / +<%= @visits_7d_count %> in 7d
    </div>
    <div class="flex-grow"></div>
    <%= link_to "more →", admin_visits_path, class: "text-xs text-blue-600 hover:underline self-end mt-2" %>
  </div>
</div>
