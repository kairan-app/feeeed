<nav class="relative flex justify-between items-center w-[calc(100%-164px)] max-md:w-[calc(100%-120px)]">
  <%= render(partial: "channels/search_form", locals: { channel_q: @channel_q }) %>

  <% if logged_in? %>
  <ul class="flex justify-end items-center m-0 mr-[72px] p-0 max-md:!hidden">
    <li>
      <%= link_to(pawprints_path, class: "relative flex items-center m-0 p-3 hover:no-underline hover:bg-white/50") do %>
        <span class="material-symbols-outlined"><%= image_tag("icon-pawprints-b.svg", alt: "pawprints", loading: "lazy", width: 24, height: 24) %></span>
        <span>Pawprints</span>
      <% end %>
    </li>
    <li>
      <%= link_to(unreads_path, class: "relative flex items-center m-0 p-3 hover:no-underline hover:bg-white/50") do %>
        <span class="material-symbols-outlined">inbox</span>
        <span>Unreads</span>
      <% end %>
    </li>
    <li>
      <%= link_to(my_path, class: "relative flex items-center m-0 p-3 hover:no-underline hover:bg-white/50") do %>
        <span class="material-symbols-outlined">settings</span>
        <span>Settings</span>
      <% end %>
    </li>
  </ul>

  <input type="checkbox" name="hamburger" id="hamburger" class="hidden peer"/>
  <label for="hamburger" class="hidden peer-checked:block fixed top-0 left-[-20px] w-[calc(100%+40px)] h-screen bg-black opacity-0 z-[2]"></label>
  <ul class="absolute top-[55px] right-[10px] max-md:right-[-10px] flex flex-col items-start w-auto !m-0 p-0 bg-white -translate-y-[calc(100%+50px)] transition-none z-0 opacity-20 shadow-[0px_0px_6px_rgba(0,0,0,0.1)] rounded-[2px] peer-checked:translate-y-0 peer-checked:transition-none peer-checked:z-[2] peer-checked:opacity-100">
    <% if current_user.admin? %>
    <li class="w-full p-0 border-b border-[#cccccc]">
      <%= link_to(admin_path) do %>
        <span class="material-symbols-outlined">admin_panel_settings</span>
        <span>Admin</span>
      <% end %>
    </li>
    <% end %>
    <li class="w-full p-0 border-b border-[#cccccc]">
      <%= link_to(guides_path) do %>
        <span class="material-symbols-outlined">info</span>
        <span>Guides</span>
      <% end %>
    </li>
    <li class="w-full p-0 border-b border-[#cccccc]">
      <%= link_to(user_path(user_name: current_user.name)) do %>
        <span class="material-symbols-outlined">account_circle</span>
        <span>My Page</span>
      <% end %>
    </li>
    <li class="w-full p-0 border-b-0">
      <%= link_to(session_path, data: { turbo_method: :delete }) do %>
        <span class="material-symbols-outlined">logout</span>
        <span>Log out</span>
      <% end %>
    </li>
  </ul>
  <label for="hamburger" class="absolute top-[14pt] right-[18px] max-md:right-0 flex flex-col justify-center items-center gap-[5px] appearance-none bg-white shadow-[0px_0px_8px_-4px_#555555] border-none rounded-full cursor-pointer z-[2] [&>img]:w-[36px] [&>img]:h-auto [&>img]:rounded-[24px]">
    <%= user_avatar_tag(current_user, size: :small) %>
  </label>
  <% else %>
  <div class="login-link fixed bottom-20 right-[15px] shadow-md max-md:block md:absolute md:top-[18px] md:bottom-auto md:shadow-none p-0 z-[1]">
    <%= link_to "Login", login_path, class: "inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" %>
  </div>
  <% end %>
</nav>

<nav class="sp-tab">
  <ul class="list-none p-0">
    <li>
      <%= link_to(root_path) do %>
        <span class="material-symbols-outlined material-symbols-outlined-sp-tab">home</span>
        <span>Home</span>
      <% end %>
    </li>
    <% if logged_in? %>
    <li>
      <%= link_to(pawprints_path) do %>
        <span class="material-symbols-outlined material-symbols-outlined-sp-tab material-symbols-outlined-sp-tab-paw"><%= image_tag("icon-pawprints-w.svg", alt: "pawprints", loading: "lazy", width: 32, height: 32) %></span>
        <span>Pawprints</span>
      <% end %>
    </li>
    <li>
      <%= link_to(unreads_path) do %>
        <span class="material-symbols-outlined material-symbols-outlined-sp-tab">inbox</span>
        <span>Unreads</span>
      <% end %>
    </li>
    <li>
      <%= link_to(my_path) do %>
        <span class="material-symbols-outlined material-symbols-outlined-sp-tab">settings</span>
        <span>Settings</span>
      <% end %>
    </li>
    <% end %>
  </ul>
</nav>
