# スタイルシートを整理する

## 問題意識

- 初期はapplication.cssを育てていく素朴なアプローチだった
- 途中でTailwind CSSを導入した
- 2025年10月現在、ふたつの流派が混在していて管理しにくくなっている
- Tailwind CSSに寄せていきたい

## 進め方

### 基本方針

- 一気にぜんぶやろうとすると、問題が生じたときに原因特定が困難になるので、段階的に進めたい
- たとえば `.setting-cards` と `.setting-card` といったコンポーネントまとまりの単位で作業を区切りたい
- 作業ごとにGitのブランチを切り、人間が表示確認して問題なさそうならマージしてProductionに反映させる

### 作業の優先順位

- 影響範囲が小さいタスク(1〜2ファイルの使用)から始める
- 複雑なコンポーネント(多数のファイルで使用されている)は後回しにする

### 作業フロー

1. **ブランチ作成**
   - ブランチ名: `refactor/[component-name]-to-tailwind`
   - 例: `refactor/setting-cards-to-tailwind`

2. **移行前の表示確認**
   - DevTools MCPで当該コンポーネントが表示されるページにアクセス
   - ログイン状態とログアウト状態の両方で確認が必要な場合がある
     - ログイン方法は `AGENTS.md` を参照（`/dev/login?user_id=1`で開発用ログイン）
   - PC、タブレット(768px)、スマートフォン(375px)で表示を確認
   - スクリーンショットを撮って移行後の比較用に保存

3. **CSSの移行**
   - ERBテンプレートにTailwind CSSクラスを追加
   - `application.css`から該当するCSSを削除
   - レスポンシブデザインに注意:
     - Tailwind CSSはモバイルファーストなので、基本スタイルはモバイル用
     - `md:` プレフィックスは768px以上(タブレット・PC)に適用される
     - 元のCSSが `max-width: 768px` でモバイル指定していた場合、Tailwind CSSでは逆転する

4. **移行後の表示確認**
   - DevTools MCPで再度表示確認
   - ログイン・ログアウト状態の両方で確認（必要に応じて）
   - PC、タブレット、スマートフォンで表示が崩れていないか確認
   - 移行前のスクリーンショットと比較

5. **コミット・プッシュ**
   - ドキュメント更新(このファイルのチェックボックス)も同じコミットに含める
   - コミットメッセージは簡潔に
   - プッシュして次のステップへ

6. **PR作成**
   - 直近のPR (#528, #529, #530) の形式に合わせてタイトルと説明を作成
   - 人間が表示確認してマージ

### レスポンシブデザインの注意点

- このアプリケーションでは、タブレット(768px)はPCと同じ横並びレイアウトを使用する
- `md:` ブレークポイントでタブレット・PCを一括で扱う
- モバイルのみ異なるレイアウトにする場合は `max-md:` を使用

## コンポーネントごとに作業する

### 優先度高 (ユーザー向けUI)

- [x] 1. 設定カード (`.setting-cards`, `.setting-card`)
- [ ] 2. カードグリッド (`.cards`, `.channel-cards`, `.item-cards`)
- [ ] 3. カード画像 (`.card-image`, `.channel-card-image`, `.item-card-image`)
- [ ] 4. チャンネルプロフィール (`.channel-profile`, `.channel-profile-image`, `.channel-profile-info`)
- [ ] 5. チャンネルボタン (`.channel-buttons`, `.channel-control-buttons`)
- [ ] 6. 設定リスト・テーブル (`.setting-list`, `.setting-table`)

### 優先度中 (ナビゲーション・インタラクション)
- [ ] 7. ハンバーガーメニュー (`.hamburger-menu-*`)
- [ ] 8. チャンネル登録フォーム (`.channel-registration-form-*`, `.channel-form`)
- [ ] 9. ナビゲーション (`header nav`, `.pc-menu`)
- [ ] 10. スマホタブ (`.sp-tab`)

### 優先度中 (コンテンツ表示)

- [ ] 11. チャンネル・アイテムコンポーネント (`.channel-and-items-component-*`)
- [ ] 12. 未読リスト (`.unreads-list`, `.unreads-nav`, `.unreads-channel-group-tab`)
- [ ] 13. 足跡機能 (`.pawprint-*`, `.chase-paw-*`)
- [ ] 14. プロフィール (`.profile`, `.profile-image`)
- [ ] 15. オーディオプレイヤー (`.audio-player`, `.audio-player-on-the-image`)
- [ ] 16. ページネーション (`.pagination`, `.page`)
- [ ] 17. チャンネル検索 (`.channel_search`)

### 優先度低 (About/ランディングページ)

- [ ] 18. ヒーローエリア (`.hero-area`, `.hero-area-*`)
- [ ] 19. Aboutコンテンツ (`.about-contents`, `.info-contents`)
- [ ] 20. 類似チャンネル (`.similar-channels`)
- [ ] 21. ガイド (`.guides`, `.guides-item`, `.guides-button`)

### 優先度低 (共通・細かいもの)

- [x] 22. ログインリンク (`.login-link`)
- [x] 23. 改行制御 (`.br-sp`, `.br-pc`)
- [x] 24. PCメニュー表示制御 (`.pc-menu`)
- [x] 25. 検索アイコン (`.material-symbols-outlined-search`)
- [x] 26. カードチャンネル画像 (`.card-channel img`)
- [x] 27. カードメタ情報 (`.card-description`, `.card-channel`, `.card-publish`)
- [ ] 28. 共通スタイル (`a`, `textarea`等)
